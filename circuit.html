<!DOCTYPE html>
<html lang=fr>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <title>Jarduino - Circuit</title>

        <!-- Font Awesome -->
        <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

        <!-- Bootstrap -->
        <link href="bcss/bootstrap.min.css" rel="stylesheet">
        <script src="js/bootstrap.min.js"></script>

        
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <!-- Custom css -->
        <link rel="stylesheet" href="css/circuit.css" />

        <!-- Custom js -->
        <script src="js/circuit-modal.js"></script>
    </head>
    <body>
        <!-- Navbar -->
        <div class="navbar navbar-inverse navbar-fixed-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="index.html#">Jarduino</a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li><a href="index.html"><i class="fa fa-home" aria-hidden="true"></i> Home</a></li>
                <li><a href="code.html"><i class="fa fa-cogs" aria-hidden="true"></i> Code</a></li>
                <li class="active"><a href="circuit.html"><i class="fa fa-microchip" aria-hidden="true"></i> Circuit</a></li>
                <li><a href="experience.html"><i class="fa fa-bar-chart" aria-hidden="true"></i> Expérience</a></li>
              </ul>
            </div>
          </div>
        </div>
        
        
        <!-- Main Page -->
        <div class="container" id="main">


            <h1>Circuit et tuyauterie</h1>

            <p>
                Cet appareil est séparé en deux grandes parties : Le circuit électronique et le système de 
                plombrerie. Une puce Arduino est connectée à des capteurs d'humidité placés dans les pots. 
                Cette puce lit les données de ces capeurs et décide d'arroser les plantes ou non. Si 
                l'humidité passe en dessous d'un certain seuil (défini à l'avance), l'Arduino envoie un signal 
                électrique qui active les valves. Ces valves sont reliées à un robinet et au pots. Elles ne 
                laissent passer l'eau que lorsqu'elles reçoivent un courant électrique.
            </p>


            <h3>Contrôle des valves</h3>

            <p>
                Les valves utilisées dans ce project sont des valves à solénoïde. Elles comportent un petit 
                électroaimant qui, lorsqu'il reçoit suffisamment de courant, enclenche un mécanisme qui laisse 
                passer l'eau. Ainsi, il est possible de les contrôler en utilisant un microcontrôleur tel 
                qu'une carte Arduino.
            </p> 
            <p>
                Malheureusement, on ne peut pas connecter les valves directement à la carte. En effet, ces 
                valves requièrent un courant de 12V pour s'activer. Or, l'Arduino ne supporte pas une telle 
                tension. Il faut donc passer par un circuit intermédiaire opérant à 12V qui alimente les 
                valves. Dans ce circuit se trouveront des transistors, qui ne laissent passer le courant que 
                lorsqu'ils reçoivent un signal 5V de l'Arduino.
            </p>

            <div class="row">
                <div class="col-sm-7">
                    <img id="img-circuit" class="img-responsive img-standard" src="imgs/sanscapteurs.png" alt="Circuit connectant l'Arduino et les valves" />
                </div>
                <div class="col-sm-5" id="list-comp">
                    <h4>Liste des composants</h4>
                    <ul>
                        <li>1x Arduino Uno</li>
                        <li>3x Valves à Solénoïde 12V (Ouvertes par défaut)</li>
                        <li>3x Transistor MOSFET TIP120</li>
                        <li>3x Résistance 1k&Omega;</li>
                        <li>3x Diode 1N4004</li>
                        <li>1x Alimentation secteur (12V/1A)</li>
                        <li>1x Connecteur jack pour l'alimentation</li>
                        <li>Câbles de connexion</li>
                    </ul>
                </div>
            </div>


            <h3>Capteurs d'humidité</h3>

            <p>
                Pour savoir à quel moment arroser les plantes, il faut des capteurs d'humidité. Ils sont plantés dans chacun des pots et relèvent le taux d'humidté de la terre. Le capteur que nous avons utilisé dans ce project est le <em><a href="https://www.dfrobot.com/index.php?route=product/ product&keyword=moistu&product_id=599#.V8V9riki5FU">Gravity: Analog Soil Moisture SensorFor Arduino</a></em> de la marque DFRobot. Nous en avons commandés un par pot, afin de pouvoir contôler chaque plante avec précision.
            </p>

            <p>
                Les capteurs sont connectés à l'arduino au moyen de trois fils : 5V (rouge), GND (noir) et Analog (bleu). 5V et GND alimentent le capteur en électricité, tandis que les données sont transférées au moyen du troisième fil. Ce fil est branché sur les ports analogiques de l'Arduino. En effet, le capteur et transmet une tension entre 0 et 5V en fonction de l'humidité. Plus la terre esthumide, plus la tension sera élevée. Le microcontrôleur lira cette tension et ouvrira les valves lorsque qu'elle passe en dessous d'un certain seuil, <em><a href="experience.html#seuil">déterminé à l'avance</a></em>.
            </p>
            
            <div class="row">
                <div class="col-sm-5">
                    <figure>
                        <img  class="img-responsive img-standard img-moist" src="imgs/moisture.jpg" alt="Capteur d'humidité">
                        <figcaption>
                            Capteur d'humidité
                        </figcaption>
                    </figure>
                </div>
                <div class="col-sm-7">
                    <figure>
                        <img class="img-responsive img-standard img-moist" src="imgs/capteurs.png" alt="Circuit entre l'Arduino et le capteur d'humidité" />
                        <figcaption>
                            Branchement du capteur
                        </figcaption>
                    </figure>
                </div>
            </div>


            <h3>Tuyauterie</h3>

            <p>
                Au début du project, nous avons décidé d'arroser directement les plantes avec l'eau du robinet, plutôt que de puiser dans un réservoir. On gagne ainsi en autonomie puisqu'il ne faut pas venir faire le plein tous les quelques jours. En revanche, le système est plus susceptible au fuites, car il est à la pression du robinet.
            </p>

            <p>
                Le système est composé de tuyaux flexibles en plastique clair, d'un diamètre d'environ un centimètre. Un tuyau est attaché au robinet et sécurisé par un serre-joint.  À partir du robinet, les tuyaux doivent se séparer en trois "branches", une pour chaque pot, grâce à deux raccord en "T" successifs. Chaque branche est reliée à une valve. Les valves utilisent des embouts jardin standard (Vis 3/4 pouces), il n'a donc pas été difficile de trouver des adaptaeurs pour nos tuyaux. Deplus la valve, un tuyaux descend directement dans le pot de plante. Tous les tuyaux sont serrés par des serres-joints afin d'éviter les fuites.
            </p>

            <div class="row">
                <div class="col-sm-6">
                    <figure>
                        <img class="img-responsive img-standard img-tuyaux" src="imgs/tuyauterie.jpg" alt="Le système de tuyauterie">
                        <figcaption>
                            Le système de tuyauterie
                        </figcaption>
                    </figure>
                </div>
                <div class="col-sm-6">
                    <figure>
                        <img class="img-responsive img-standard img-tuyaux" src="imgs/valves.jpg" alt="Une vue détaillée des valves">
                        <figcaption>
                            Une vue détaillée des valves
                        </figcaption>
                    </figure>
                </div>
            </div>

            <h3>Conclusion</h3>

            <p>
                Le système est ainsi totalement autonome. L'eau est apportée par le robinet, sans qu'il soit nécessaire de vérifier les fuites, les valves et l'Arduino sont raccordées au secteur, il n'y a donc pas besoin de changer des batteries.
            </p>

            <p>
                Lorsque l'humidité dans un pot passe en dessous d'un certain seuil. L'Arduino déclenche la valve. Un petit jet d'eau s'écoule alors vers la plante jusqu'à ce que l'humidité du sol remonte au-dessus de ce seuil. Lors de nos tests, nous avons fait Jarduino continuellement en marche pendant deux semaines, sans devoir intervernir. Ceci prouve la fiablilté de notre système.
            </p>

            <div class="img-concl">
                <figure>
                    <img class="img-responsive img-standard" src="imgs/enmarche.jpg" alt="Le système en fonctionnement">
                    <figcaption>
                        Le système complet en fonctionnement
                    </figcaption>
                </figure>
            </div>
            <!-- Modal -->
            <div id="modal" class="modal">
                <!-- Close Button -->
                <span class="close">&times;</span>
                <!-- Image -->
                <img class="modal-content" id="img01" />
                <!-- Caption -->
                <div id="caption"></div>
            </div>

        </div>
    </body>
</html>